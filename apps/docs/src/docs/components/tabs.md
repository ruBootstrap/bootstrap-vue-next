# Tabs

<PageHeader>

Создайте виджет вкладок с локальным содержимым. Компонент вкладок построен на навигационных элементах и
карточках, предоставляя полное управление навигацией клавиатурой.

</PageHeader>

Для навигационных вкладок (т.е. вкладок, которые изменяют URL), используйте
[`<BNav>`](/docs/components/nav) компонент вместо этого.

## Основное использование

<<< DEMO ./demo/TabsOverview.vue#template{vue-html}

::: info
Вы должны предоставить каждому дочернему компоненту `<BTab>` уникальное значение `key`, если динамически добавлять
или удалять компоненты `<BTab>` (например, `v-if` или для циклов). Атрибут `key` является специальным атрибутом Vue,
см. [документацию Vue](https://vuejs.org/api/built-in-special-attributes.html#key) для деталей.
:::

## Интеграция с карточками

Вкладки поддерживают интеграцию с компонентами Bootstrap карточек. Просто добавьте свойство `card` к `<BTabs>` и поместите
его внутрь компонента `<BCard>`. Обратите внимание, что вы должны добавить `no-body` пропс на `<BCard>`
компонент, чтобы правильно оформить заголовок карточки и удалить дополнительный отступ, введенный
`card-body`.

<<< DEMO ./demo/TabsCards.vue#template{vue-html}

Когда `<BTabs>` находится в режиме `card`, каждый подкомпонент `<BTab>` автоматически будет иметь примененный класс `card-body` (этот класс обеспечивает отступ вокруг содержимого вкладки). Чтобы отключить класс `card-body`, установите пропс `no-body` на подкомпонент `<BTab>`.

<<< DEMO ./demo/TabsPictures.vue#template{vue-html}

::: tip
Установка пропса `no-body` на `<BTab>` не окажет никакого влияния, когда `<BTabs>` не находится
в режиме `card` (так как класс `card-body` устанавливается только в режиме `card`).
:::

См. [документацию по карточкам](/docs/components/card) для получения дополнительной информации о компонентах карточек.

## Вариант с табами

Вкладки используют стилирование `tabs` по умолчанию. Просто добавьте свойство `pills` к `<BTabs>` для варианта с табами.

<<< DEMO ./demo/TabsPills.vue#template{vue-html}

## Заполнение и выравнивание

Принудительно расширьте элементы управления `<BTabs>` для заполнения всего доступного ширины.

### Заполнение

Чтобы пропорционально заполнить все доступное пространство элементами управления вкладками, установите пропс `fill`. Обратите внимание, что
все горизонтальное пространство занято, но не каждый элемент управления имеет одинаковую ширину.

<<< DEMO ./demo/TabsFill.vue#template{vue-html}

### Выравнивание

Для одинаковых по ширине элементов управления используйте пропс `justified`. Все горизонтальное пространство будет занято элементами управления, но в отличие от использования `fill` выше, каждый элемент управления будет одинаковой ширины.

<<< DEMO ./demo/TabsJustified.vue#template{vue-html}

## Выравнивание

Чтобы выровнять элементы управления вкладками, используйте пропс `align`. Доступные значения: `start`, `center`, `end`, `between`, `around`, и `evenly`.

<<< DEMO ./demo/TabsAlignment.vue#template{vue-html}

## Размещение вкладок внизу

Визуально переместите элементы управления вкладками вниз, установив пропс `end`.

<<< DEMO ./demo/TabsBottom.vue#template{vue-html}

::: warning

- Размещение внизу работает лучше с вариантом `pills`. Когда используется вариант по умолчанию `tabs`, вы можете захотеть предоставить собственные пользовательские стили классов, так как Bootstrap CSS предполагает, что вкладки всегда будут расположены в верхней части содержимого вкладок.
- Чтобы обеспечить лучший пользовательский опыт с размещенными внизу элементами управления, убедитесь, что содержимое каждого панели вкладки имеет одинаковую высоту и полностью вписывается в видимый экран, иначе пользователю потребуется прокрутить вверх, чтобы прочитать начало вкладываемого содержимого.

:::

## Вертикальные вкладки

Разместите элементы управления вкладками по левой стороне, установив пропс `vertical` в `true`. Вертикальные
вкладки работают как с включенным, так и с выключенным режимом `card`.

<<< DEMO ./demo/TabsVertical.vue#template{vue-html}

Визуально переместите элементы управления вкладками по правой стороне, установив пропс `end`:

<<< DEMO ./demo/TabsVerticalEnd.vue#template{vue-html}

Ширина вертикальных элементов управления вкладок будет расширяться, чтобы соответствовать ширине заголовка вкладки. Чтобы контролировать ширину, установите [класс утилиты ширины](/docs/reference/size-props-and-classes) через пропс `nav-wrapper-class`. Вы можете использовать значения, такие как `w-25` (25% ширины), `w-50` (50% ширины) и т.д., или классы столбцов, такие как `col-2`, `col-3` и т.д.

<<< DEMO ./demo/TabsVerticalWidth.vue#template{vue-html}

Вертикальное размещение работает лучше с вариантом `pills`. Когда используется вариант по умолчанию `tabs`, вы можете захотеть предоставить собственные пользовательские стили классов, так как Bootstrap v4 CSS предполагает, что элементы управления вкладок всегда будут расположены в верхней части содержимого вкладок.

::: info
Текст вкладки может выходить за пределы, если ширина вкладки меньше ширины заголовка. В этом случае может потребоваться дополнительное кастомное оформление.
:::

## Классы для активных вкладок

Чтобы применить классы к текущей активной вкладке или элементу управления, используйте пропсы `active-nav-item-class` и `active-tab-class`.

<<< DEMO ./demo/TabsActive.vue#template{vue-html}

## Анимация затухания

Анимация затухания (fade) включена по умолчанию при переключении вкладок. Её можно отключить с помощью свойства `no-fade`.

## Добавление вкладок без содержимого

Если вы хотите добавить дополнительные вкладки без содержимого, поместите их в слоты `tabs-start` или `tabs-end`:

<<< DEMO ./demo/TabsEmpty.vue#template{vue-html}

Используйте слот `tabs-start`, чтобы разместить дополнительные кнопки вкладок перед основными, и слот `tabs-end`, чтобы разместить их после основных кнопок вкладок.

::: info
Дополнительные (без содержимого) кнопки вкладок должны быть `<BNavItem>` или иметь корневой элемент `<li>` с классом `nav-item` для корректного отображения и семантической разметки.
:::

## Добавление пользовательского содержимого в заголовок вкладки

Если вы хотите добавить пользовательское содержимое в заголовок вкладки, например HTML-код, иконки или другой неинтерактивный компонент Vue, это можно сделать с помощью слота `title` в `<BTab>`.

<<< DEMO ./demo/TabsCustom.vue#template{vue-html}

::: warning
**Не размещайте** интерактивные элементы или компоненты внутри слота заголовка. Кнопка вкладки реализована как ссылка, которая по спецификации HTML5 не поддерживает вложенные интерактивные элементы.
:::

## Применение пользовательских классов к сгенерированным nav-tabs или pills

Селекторы вкладок основаны на разметке `nav` из Bootstrap v5 (то есть
`ul.nav > li.nav-item > a.nav-link`). В некоторых случаях вы можете захотеть добавить классы к элементу `<li>`
(nav-item) и/или к `<a>` (nav-link) для каждой вкладки отдельно. Для этого просто укажите имя класса в пропсе
`title-item-class` (для элемента `<li>`) или `title-link-class` (для элемента `<a>`). Значения можно передавать как строку или массив строк.

::: info
Класс `active` автоматически применяется к активной вкладке (`<a>`). Возможно, вам потребуется учесть это при добавлении своих пользовательских классов.
:::

<<< DEMO ./demo/TabsCustomLinks.vue#template{vue-html}

## Ленивое (отложенное) загрузка содержимого вкладок

Иногда предпочтительнее загружать компоненты и данные только при активации вкладки, вместо того чтобы загружать все вкладки (и связанные с ними данные) при рендеринге набора `<BTabs>`.

Отдельные компоненты `<BTab>` можно загружать лениво с помощью пропса `lazy`. Если он установлен, содержимое `<BTab>` не будет монтироваться до тех пор, пока вкладка не станет активной (не будет показана):

<<< DEMO ./demo/TabsLazy.vue#template{vue-html}

По умолчанию, после активации вкладки её содержимое останется смонтированным. Чтобы размонтировать содержимое при деактивации (скрытии) вкладки, используйте пропс `unmount-lazy`.

<<< DEMO ./demo/TabsUnmountLazy.vue#template{vue-html}

Также можно сделать все вкладки ленивыми, установив пропс `lazy` на родительском компоненте `<BTabs>`:

<<< DEMO ./demo/TabsLazyAll.vue#template{vue-html}

## Навигация с клавиатуры

Навигация с клавиатуры включена по умолчанию для соответствия ARIA-стандартам при работе с tablist, когда кнопка вкладки находится в фокусе.

| Клавиша                                                                | Действие                                                     |
| ---------------------------------------------------------------------- | ------------------------------------------------------------ |
| <kbd>Left</kbd> или <kbd>Up</kbd>                                      | Активировать предыдущую неотключённую вкладку                |
| <kbd>Right</kbd> или <kbd>Down</kbd>                                   | Активировать следующую неотключённую вкладку                 |
| <kbd>Shift</kbd>+<kbd>Left</kbd> или <kbd>Shift</kbd>+<kbd>Up</kbd>    | Активировать первую неотключённую вкладку                    |
| <kbd>Home</kbd>                                                        | Активировать первую неотключённую вкладку                    |
| <kbd>Shift</kbd>+<kbd>Right</kbd> или <kbd>Shift</kbd>+<kbd>Down</kbd> | Активировать последнюю неотключённую вкладку                 |
| <kbd>End</kbd>                                                         | Активировать последнюю неотключённую вкладку                 |
| <kbd>Tab</kbd>                                                         | Перевести фокус на содержимое активной вкладки               |
| <kbd>Shift</kbd>+<kbd>Tab</kbd>                                        | Перевести фокус на предыдущий элемент управления на странице |

Отключить навигацию с клавиатуры можно, установив проп `no-key-nav`. В этом случае поведение будет соответствовать обычной навигации браузера с помощью клавиши TAB.

| Клавиша                               | Действие                                                      |
| ------------------------------------- | ------------------------------------------------------------- |
| <kbd>Tab</kbd>                        | Перейти к следующей кнопке вкладки или элементу управления    |
| <kbd>Shift</kbd>+<kbd>Tab</kbd>       | Перейти к предыдущей кнопке вкладки или элементу управления   |
| <kbd>Enter</kbd> или <kbd>Space</kbd> | Активировать вкладку, соответствующую текущей кнопке в фокусе |

## Программное включение и выключение вкладок

Используйте `v-model` на `<BTabs>`, чтобы управлять активной вкладкой, устанавливая значение `v-model` в индекс (начиная с нуля) вкладки, которую нужно показать (см. пример ниже).

В качестве альтернативы можно использовать булевый проп `active` на каждом `<BTab>`, чтобы активировать вкладку или определить, активна ли конкретная вкладка.

Каждый экземпляр `<BTab>` также предоставляет методы для активации или деактивации вкладки: `.activate()` и `.deactivate()`. Если активация или деактивация не удалась (например, вкладка отключена или нет доступной вкладки для активации), то текущая активная вкладка останется активной, а метод вернёт `false`. Для использования этих методов вам потребуется ссылка на соответствующий `<BTab>`.

## Предотвращение активации `<BTab>`

Чтобы предотвратить активацию вкладки, просто установите проп `disabled` на компоненте `<BTab>`.

В качестве альтернативы, вы можете отследить событие `activate-tab`, которое позволяет предотвратить активацию вкладки. Событие `activate-tab` вызывается с пятью аргументами:

- `newTabId`: id вкладки, которую пытаются активировать
- `prevTabId`: id текущей активной вкладки
- `newTabIndex`: индекс вкладки, которую пытаются активировать
- `prevTabIndex`: индекс текущей активной вкладки
- `event`: объект `BvEvent`. Вызовите `bvEvent.preventDefault()`, чтобы предотвратить активацию вкладки с индексом `newTabIndex`

Для обеспечения доступности, если вы используете событие `activate-tab` для предотвращения активации вкладки, рекомендуется уведомлять пользователя о причине невозможности активации вкладки. Однако предпочтительнее использовать атрибут `disabled` на компоненте `<BTab>`, так как это более понятно для пользователей скринридеров.

## Продвинутые примеры

### Внешнее управление с помощью `v-model`

<<< DEMO ./demo/TabsModelControl.vue

### Внешнее управление с помощью модели `active`

<<< DEMO ./demo/TabsActiveModelControl.vue

### Внешнее управление с помощью открытых методов

<<< DEMO ./demo/TabsExposedMethodControl.vue

### Динамические вкладки + слот tabs-end

<<< DEMO ./demo/TabsDynamic.vue

<ComponentReference :data="data" />

<script setup lang="ts">
import {data} from '../../data/components/tabs.data'
</script>
