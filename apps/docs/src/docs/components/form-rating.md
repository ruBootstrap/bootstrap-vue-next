# Рейтинг формы

<PageHeader>

Кастомный компонент звёздочного рейтинга BootstrapVue, `BFormRating`, предназначен для ввода или отображения значения рейтинга. Компонент полностью доступен по WAI-ARIA и поддерживает управление с клавиатуры.

</PageHeader>

## Обзор

Значения рейтинга варьируются от 1 до количества звёзд (по умолчанию — `5`, минимум — `3`). Поскольку `BFormRating` использует класс Bootstrap `form-control`, его легко разместить внутри [input group](/docs/components/input-group.html).

У компонента `BFormRating` два основных режима: интерактивный и только для чтения.

В интерактивном режиме пользователь может выбрать рейтинг от 1 до количества звёзд (по умолчанию 5) с шагом 1.

**Интерактивный рейтинг (режим ввода):**

<<< DEMO ./demo/RatingInteractive.vue

В режиме только для чтения компонент отображает агрегированный рейтинг и поддерживает «половинные» звёзды.

**Рейтинг только для чтения:**

<<< DEMO ./demo/RatingNonInteractive.vue

## Стилизация

### Вариант и цвет

Легко применяйте одну из цветовых тем Bootstrap к иконке рейтинга через пропс `variant`. По умолчанию используется цвет текста формы.

<<< DEMO ./demo/RatingVariant.vue

Для применения _кастомного цвета_ используйте пропс `color`, который принимает стандартное CSS-имя цвета, HEX (`#...`) или RGB/RGBA (`rgb(...)`/`rgba(...)`).

<<< DEMO ./demo/RatingCustomColor.vue

**Примечания:**

- Пропс `color` имеет приоритет над пропсом `variant`
- Варианты переводятся в класс `text-{variant}` на иконке

### Количество звёзд

По умолчанию `<BFormRating>` отображает `5` звёзд. Изменить количество можно через пропс `stars`. Минимум — `3`.

<<< DEMO ./demo/RatingStars.vue

### Отображение значения

По умолчанию `<BFormRating>` не показывает текущее числовое значение. Чтобы отобразить его, установите пропс `show-value` в `true`. Для управления точностью (число знаков после запятой) используйте пропс `precision`. Это полезно для отображения среднего рейтинга в режиме только для чтения.

<<< DEMO ./demo/RatingValue.vue

**С точностью:**

<<< DEMO ./demo/RatingPrecision.vue

#### Отображение максимального значения

Можно дополнительно показать максимальное значение рейтинга, установив пропс `show-value-max` в `true`:

<<< DEMO ./demo/RatingValueMax.vue

### Размеры

Хотите маленький или большой рейтинг? Просто установите пропс `size` в `'sm'` или `'lg'` соответственно.

<<< DEMO ./demo/RatingSizing.vue

### В одну строку

По умолчанию `<BFormRating>` занимает 100% ширины контейнера. Если нужно, чтобы компонент занимал только необходимое место, установите пропс `inline` в `true`.

<<< DEMO ./demo/RatingInline.vue

### Без рамки

По умолчанию `BFormRating` имеет стандартное оформление формы. Чтобы убрать рамку, установите пропс `no-border` в true.

<<< DEMO ./demo/RatingBorder.vue

### Отключённый

Если требуется, чтобы пользователь не мог выбрать рейтинг до выполнения условия, установите пропс `disabled` в `true`.

<NotYetImplemented />

### Только для чтения

Рейтинг только для чтения остаётся доступным для фокуса, но не интерактивен. Это удобно для отображения агрегированного или среднего значения. Допускаются дробные значения, при которых отображаются «половинные» иконки (порог — `0.5`).

<<< DEMO ./demo/RatingReadOnly.vue

### Кнопка очистки

Можно отобразить иконку очистки через пропс `show-clear`. При нажатии на неё значение будет установлено в `null`.

<<< DEMO ./demo/RatingClear.vue

**Примечания:**

- Иконка очистки не отображается, если установлены пропсы `readonly` или `disabled`.

### Иконки

По умолчанию `BFormRating` использует встроенные SVG-иконки звёзд:

- Пустая звезда: контурная звезда
- Половина: наполовину заполненная звезда
- Полная: заполненная звезда
- Кнопка очистки: иконка x

#### Стилизация стандартных иконок

Для стандартных иконок можно использовать пропсы `variant`, `color` и `size`. Они применяют классы Bootstrap и стили к SVG.

#### Кастомные иконки

Для использования своих иконок используйте scoped slot по умолчанию, где доступны `starIndex`, `isFilled`, `isHalf`:

<<< DEMO ./demo/RatingCustomIcon.vue

**Важные замечания по кастомным иконкам:**

- Пропсы `variant`, `color` и `size` **не применяются** к кастомным иконкам через slot
- Все стили (цвет, размер, эффекты наведения) реализуйте самостоятельно в CSS
- Вы сами реализуете обработчики клика: `@click="rating = starIndex"`
- Кастомные иконки полностью заменяют стандартные

#### Пропсы для иконок (Advanced)

Пропсы `icon-empty`, `icon-half`, `icon-full` и `icon-clear` позволяют указать альтернативные имена иконок Bootstrap, но требуют регистрации соответствующих компонентов. Обычно для кастомизации используйте scoped slot.

## Отправка формы

Если нужно отправлять значение рейтинга через стандартную отправку формы, задайте пропс `name` — будет создан скрытый input с текущим значением (или пустой строкой, если значения нет).

<NotYetImplemented />

## Использование в input group

Пример размещения `<BFormRating>` в input group:

<NotYetImplemented />

## Интернационализация

Если задан `locale`, отображаемое значение (при `show-value=true`) будет в локали браузера. Для смены локали укажите нужную строку или массив локалей (приоритет — первый элемент). Это влияет на отображаемое значение и направление компонента (LTR/RTL).

<NotYetImplemented />

## Особенности реализации

Контрол рейтинга использует классы Bootstrap v5 `form-control*`, `d-*` (display), `text-{variant}` и кастомный CSS BootstrapVue.

<NotYetImplemented/>Корневой элемент — `<output>`, что позволяет ассоциировать с ним `<label>`.

## Доступность

Для пользователей экранных читалок `<BFormRating>` выглядит как input типа _slider_.

Навигация с клавиатуры аналогична полям типа range:

- <kbd>Left</kbd> или <kbd>Down</kbd> уменьшают значение на 1
- <kbd>Right</kbd> или <kbd>Up</kbd> увеличивают значение на 1
- Если [`locale`](#internationalization) — язык с направлением справа налево, поведение <kbd>Left</kbd> и <kbd>Right</kbd> меняется местами

<ComponentReference :data="data" />

<script lang="ts">
import {data} from '../../data/components/FormRating.data'

export default {
setup() {
return {data}
}
}
</script>
