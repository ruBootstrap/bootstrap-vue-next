# Аватар

<PageHeader>

Аватары — это настраиваемый компонент, который обычно используется для отображения профиля пользователя в виде изображения или короткого текста. `BAvatar` предоставляет несколько пропсов для настройки внешнего вида, таких как цветовая схема и скругление, а также может выступать в роли кнопки, ссылки или [router link](/docs/reference/router-links).

</PageHeader>

## Обзор

Аватары — это легковесные компоненты, которые по умолчанию отображаются встроенно (inline), поэтому они вертикально выравниваются по центру рядом с обычным текстом. Также их можно использовать как дочерние элементы других компонентов.

<<< DEMO ./demo/AvatarOverview.vue#template{vue-html}

## Типы аватаров

Содержимое аватара может быть либо изображением, либо короткой текстовой строкой. По умолчанию, если не указано другое содержимое, в качестве аватара используется [иконка `'person-fill'`](<[/docs/icons](https://icons.getbootstrap.su/icons/person-fill/)>).

Вы также можете передать собственное содержимое через слот по умолчанию, однако для этого может потребоваться дополнительное оформление.

### Содержимое-изображение

Используйте пропс `src`, чтобы указать URL изображения для аватара. Изображение должно иметь соотношение сторон `1:1` (то есть ширина и высота должны быть равны), иначе произойдёт искажение. Изображение будет автоматически масштабироваться, чтобы поместиться в рамки аватара.

<<< DEMO ./demo/AvatarImage.vue#template{vue-html}

**Примечания:**

- При использовании сборщика модулей и относительных путей к изображениям в проекте, обратитесь к разделу [Поддержка изображений](/docs/reference/images) для получения дополнительных сведений
- Пропс `src` имеет приоритет над пропсом `text`
- Если изображение не удалось загрузить, аватар переключится на значение, указанное в пропсе `text`. Если пропс `text` не задан, будет показано изображение аватара по умолчанию. Также при ошибке загрузки изображения будет сгенерировано событие `img-error`
- [Варианты цветов](#variants) при использовании изображений обычно не видны, если только изображение не удалось загрузить. Вариант влияет на оформление фокуса, если аватар также является [интерактивным](#actionable-avatars)
- Если не указаны ни пропс `text`, ни `src`, _и_ [слот по умолчанию](#custom-content) не содержит контента, будет использовано изображение `person-fill`

### Текстовое содержимое

Вы можете указать короткую строку в качестве содержимого аватара через пропс `text`. Строка должна быть короткой (от 1 до 3 символов) и будет автоматически преобразована в верхний регистр с помощью CSS. Размер шрифта будет масштабироваться относительно [значения пропса `size`](#sizing).

<<< DEMO ./demo/AvatarText.vue#template{vue-html}

### Пользовательский контент

Используйте слот `default`, чтобы отобразить собственный контент внутри аватара для более тонкой настройки его внешнего вида, например, если вы хотите использовать свои иконки или SVG:

<<< DEMO ./demo/AvatarCustom.vue#template{vue-html}

**Примечания:**

- Слот по умолчанию имеет приоритет над пропсами `text` и `src`
- Контент слота по умолчанию будет обёрнут в элемент `<span>` для корректного центрирования
- Возможно, потребуется добавить дополнительное оформление для пользовательского контента, чтобы учесть [форму компонента аватара](#rounding)

## Оформление

### Варианты

Используйте пропс `variant`, чтобы задать одну из цветовых схем Bootstrap. По умолчанию используется вариант `secondary`.

<<< DEMO ./demo/AvatarVariants.vue#template{vue-html}

При отображении текста внутри аватара цвет текста вычисляется на основе пропса `variant`. Результат будет либо `light`, либо `dark`. Вы можете переопределить вычисленный цвет текста, явно указав пропсы `bg-variant` и `text-variant`. Обратите внимание, что `bg-variant` и `text-variant` имеют приоритет над `variant`. Подробнее см. в [справочнике по цветовым вариантам](/docs/reference/color-variants#variant-interactions).

<<< DEMO ./demo/AvatarVariantOverride.vue#template{vue-html}

### Размеры

По умолчанию аватары имеют размер `2.5em` (относительно текущего размера шрифта). Вы можете изменить размер аватара, изменив размер шрифта, либо явно указать размер с помощью пропса `size`. Значения `sm`, `md` и `lg` по умолчанию соответствуют `1.5em`, `2.5em` и `3.5em` соответственно. Числовые значения преобразуются в пиксели. Любое другое значение _обязательно_ должно содержать единицы измерения (например, `px`, `em` или `rem`).

<<< DEMO ./demo/AvatarSize.vue#template{vue-html}

**Примечание:** Аватары _всегда_ отображаются с соотношением сторон `1:1`.

### Квадратная форма

Предпочитаете квадратный аватар? Просто установите пропс `square` в значение `true`.

<<< DEMO ./demo/AvatarSquare.vue#template{vue-html}

### Скругление

`BAvatar` по умолчанию отображается с круглым скруглением границ. Вы можете изменить степень скругления, установив пропс `rounded` в одно из значений [`RadiusElement`](/docs/types#radiuselement).
Если указать `true` (или пустую строку `''`), будет использовано среднее скругление по умолчанию Bootstrap.
Если указать `circle`, будет применён радиус скругления 50%, что приведёт к круглой форме.
Скругление отдельных углов можно задать с помощью пропсов `rounded-top`, `rounded-bottom`, `rounded-start` и `rounded-end`. Подробнее о различиях с `bootstrap-vue` смотрите в [руководстве по миграции](/docs/migration-guide#BAvatar).

<<< DEMO ./demo/AvatarRounding.vue#template{vue-html}

**Примечания:**

- Пропс `square` имеет приоритет над пропсом `rounded`
- Вместо пропса `square` вы можете установить пропс `rounded` в строку `'0'`, чтобы получить квадратный аватар

### Выравнивание

По умолчанию `BAvatar` будет вертикально выровнен по центру относительно окружающего контента. В некоторых случаях может понадобиться изменить выравнивание, например, чтобы текстовый аватар выравнивался по тексту рядом. Просто добавьте к компоненту класс [утилиты вертикального выравнивания](/docs/reference/utility-classes), например `<BAvatar class="align-baseline" ...>` или `<BAvatar class="align-top" ...>` и т.д.

## Аватары с действиями

Легко создавайте аватары, реагирующие на клики. Такие аватары будут доступны в табуляции документа и доступны для пользователей экранных читалок и только клавиатуры.

Аватары с изображением, если они интерактивны, используют простую анимацию масштабирования при наведении курсора.

### Кнопка

Хотите открыть модальное окно или выполнить действие по клику? Установите пропс `button`, чтобы `BAvatar` отрисовывался как элемент `<button>`. В этом случае компонент будет эмитировать событие `click` при каждом нажатии.

<<< DEMO ./demo/AvatarButton.vue#template{vue-html}

Пропс `button-type` позволяет управлять типом кнопки. Поддерживаются значения `'button'` (по умолчанию), `'submit'` и `'reset'`.

### Ссылка

Хотите использовать аватар как ссылку или router-link? Просто укажите пропс `href` или `to` соответственно. Для работы пропса `to` должен быть установлен [Vue Router](https://router.vuejs.org/).

<<< DEMO ./demo/AvatarLink.vue#template{vue-html}

**Примечание:**

Пропс `button` имеет приоритет над пропсами `href` и `to`.
Для получения дополнительной информации о пропсах, совместимых с `RouterLink`, смотрите [раздел справки по поддержке Router](/docs/reference/router-links).

## Аватары с бейджем

Легко добавляйте бейдж к вашему аватару с помощью пропса `badge` или одноимённого слота `'badge'`. Вариант бейджа можно задать через пропс `badge-variant`. Размер бейджа будет масштабироваться вместе с размером аватара.

<<< DEMO ./demo/AvatarBadge.vue#template{vue-html}

### Содержимое бейджа

Добавьте текстовое содержимое в бейдж, передав строку в пропс `badge` или используя именованный слот `'badge'`.

<<< DEMO ./demo/AvatarBadgeContent.vue#template{vue-html}

### Позиционирование бейджа

По умолчанию бейдж отображается в правом нижнем углу аватара. Вы можете изменить его положение с помощью пропса `badge-placement`.
Свойства позиционирования бейджа были изменены по сравнению с `bootstrap-vue`. Подробнее смотрите в [руководстве по миграции](/docs/migration-guide#bavatar).

<<< DEMO ./demo/AvatarBadgePositioning.vue#template{vue-html}

Используйте пропс `badge-offset` для управления смещением бейджа. Значение `badge-offset` должно быть корректной CSS-строкой длины (например, `'2px'`, `'-2px'`, `'0.5em'` и т.д.). Положительные значения смещают бейдж внутрь, отрицательные — наружу.

<NotYetImplemented />

<!-- <<< DEMO ./demo/AvatarBadgeOffset.vue#template{vue-html} -->

## Группы аватаров

<<< DEMO ./demo/AvatarGroups.vue#template{vue-html}

**Примечания:**

- Пропсы `variant`, `square` и `rounded` у `BAvatarGroup` имеют приоритет над соответствующими пропсами у отдельных аватаров.

### Размер группы

Чтобы задать размер аватаров, используйте пропс `size` у `BAvatarGroup`. Пропс `size` принимает те же значения, что и одноимённый пропс у `BAvatar`. Обратите внимание, что пропс `size` у отдельных аватаров внутри группы будет проигнорирован.

<<< DEMO ./demo/AvatarGroupSize.vue#template{vue-html}

### Вариант группы

Используйте пропс `variant`, чтобы задать цвет всем дочерним аватарам в `BAvatarGroup`. Если установлен пропс `variant` у группы, он переопределяет вариант, указанный у отдельных аватаров.

<<< DEMO ./demo/AvatarGroupVariant.vue#template{vue-html}

### Скругление группы

Аналогично пропсу `variant`, пропсы `square` и `rounded` у `BAvatarGroup` имеют приоритет над соответствующими пропсами у дочерних аватаров.

<<< DEMO ./demo/AvatarGroupRounding.vue#template{vue-html}

### Перекрытие в группе

По умолчанию дочерние аватары внутри `BAvatarGroup` перекрываются на 0.3 (относительно размера аватара). Вы можете управлять степенью перекрытия с помощью пропса `overlap`, задав значение от `0` до `1`, где `0` — без перекрытия, а `1` — 100% перекрытие.

<<< DEMO ./demo/AvatarGroupOverlap.vue#template{vue-html}

**Примечание:**

`overlap` влияет на отображение только если явно задано свойство `size`.

## Доступность

Используйте пропс `aria-label`, чтобы задать доступную для экранных читалок подпись для вашего аватара.
Если у аватара есть бейдж, рекомендуется добавить в `aria-label` информацию о назначении или содержимом бейджа
(например, `'3 сообщения'`, `'в сети'` и т.д.).

Хотя событие `click` испускается независимо от того, установлены ли пропсы `button`, `href` или `to`, настоятельно рекомендуется использовать пропс `button`, если клик должен вызывать действие (или использовать пропсы `to` или `href` для перехода по маршрутам или ссылкам) — это важно для доступности.

## Примечания по реализации

Аватары основаны на компонентах `BBadge` и `BButton`, поэтому используют классы вариантов Bootstrap `badge-*` и `btn-*`, а также классы скругления `rounded-*` из [утилитарных классов](/docs/reference/utility-classes).

<ComponentReference :data="data" />

<script setup lang="ts">
import {data} from '../../data/components/avatar.data'
</script>
