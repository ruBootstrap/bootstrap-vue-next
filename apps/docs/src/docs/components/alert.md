# Оповещение

<PageHeader>

Предоставляйте контекстные сообщения обратной связи для типичных действий пользователя с помощью доступных и гибких оповещений.

</PageHeader>

## Обзор

Оповещения могут содержать текст любой длины, а также опциональную кнопку закрытия (и опциональное автоматическое скрытие).

<<< DEMO ./demo/AlertOverview.vue

### Поддержка `v-model`

Вы можете использовать директиву `v-model` для создания двусторонней привязки данных, например, `v-model="showDismissibleAlert"`. Это удобно при использовании оповещений с возможностью закрытия: когда пользователь закрывает оповещение, ваша переменная автоматически обновляется. Пропс `v-model` принимает булевы значения `true` или `false` для отображения или скрытия оповещения соответственно. Также можно указать положительное целое число (в секундах), чтобы создать автоматически скрывающееся оповещение. Подробнее смотрите раздел [Автоматически скрывающиеся оповещения](#auto-dismissing-alerts) ниже. Для безусловного отображения оповещения можно использовать `:model-value="true"`, как это делал пропс `show` в `bootstrap-vue`. Подробнее см. в [руководстве по миграции](/docs/migration-guide#balert).

## Контекстные варианты

Для правильного оформления `BAlert` используйте один из четырёх обязательных контекстных вариантов, задав пропс `variant` со значением: `info`, `success`, `warning` или `danger`. По умолчанию используется `info`.

<<< DEMO ./demo/AlertVariants.vue#template{vue-html}

### Передача смысла вспомогательным технологиям

Использование цветовых вариантов для передачи смысла обеспечивает только визуальное различие, которое не будет доступно пользователям вспомогательных технологий, например, экранных читалок. Убедитесь, что информация, обозначенная цветом, очевидна из самого содержимого (например, видимый текст) или дополнительно предоставлена с помощью других средств, например, скрытого текста с классом `.visually-hidden`.

## Дополнительный контент внутри оповещений

`BAlert` также может содержать дополнительные HTML-элементы, такие как заголовки и абзацы, которые будут стилизованы в соответствии с выбранным вариантом.

<<< DEMO ./demo/AlertContent.vue#template{vue-html}

### Цвет ссылок внутри оповещений

Используйте CSS-класс `.alert-link`, чтобы быстро стилизовать ссылки внутри любого оповещения в соответствующий цвет. Применяйте его к тегу `<a>` или компоненту `BLink`.

<<< DEMO ./demo/AlertLinkColors.vue#template{vue-html}

## Оповещения с возможностью закрытия

С помощью пропса `dismissible` можно сделать любое оповещение `BAlert` закрываемым. Оповещение должно быть связано с реактивным значением через v-model. Это добавит кнопку закрытия с крестиком (`X`). Для изменения скрытого текста aria-label, связанного с кнопкой закрытия, используйте пропс `dismiss-label`.

<<< DEMO ./demo/AlertDismissible.vue

### Автоматически скрывающиеся оповещения

Чтобы создать оповещение `BAlert`, которое автоматически скрывается через заданное время, установите для `v-model` количество **миллисекунд**, в течение которых оповещение будет отображаться. По умолчанию таймер обновляется с помощью `requestAnimationFrame`, что вызывает обновление примерно каждую секунду. Таймер автоматически приостанавливается при наведении курсора мыши, но это поведение можно отключить с помощью пропса `noHoverPause`. Убедитесь, что значение `v-model` — это целое число, представляющее миллисекунды. Любое изменение значения `v-model` сбрасывает таймер.

Пропс **interval** определяет, как часто обновляется таймер. По умолчанию используется `requestAnimationFrame`, но вы можете задать свой интервал. Отрицательные значения для `v-model` или `interval` остановят таймер. Если значение `v-model` не делится нацело на интервал, таймер продолжит работу до ближайшего интервала. Например, при `v-model` 5400 мс и интервале 1000 мс таймер будет работать 6000 мс. Чтобы этого избежать, выберите интервал, который делится нацело на `v-model`, например 540 мс или 1080 мс.

<<< DEMO ./demo/AlertAutoDismissible.vue

## Плавное появление оповещений

Используйте пропс `fade`, чтобы включить анимацию появления и скрытия оповещений. По умолчанию оповещения отображаются без анимации.

Обратите внимание, что в `bootstrap-vue-next` для этой анимации используются переходы Vue, а не класс bootstrap `.fade`.

<<< DEMO ./demo/AlertFade.vue

## Доступные функции

Компонент BAlert предоставляет четыре функции для управления состоянием активного таймера: `pause()`, `resume()`, `restart()` и `stop()`. Доступ к ним осуществляется через [template ref](https://vuejs.org/guide/essentials/template-refs.html#template-refs).

1. Pause: приостанавливает активный таймер на текущем значении времени
2. Resume: возобновляет таймер с того места, где он был остановлен с помощью `pause()`
3. Restart: перезапускает таймер с исходного значения, заданного через v-model. Например, если v-model="5400" и таймер был перезапущен на 3200 мс, он снова начнёт с 5400 мс
4. Stop: останавливает таймер. В отличие от pause, устанавливает значение в 0 мс и не может быть возобновлён, только перезапущен

<<< DEMO ./demo/AlertFunctions.vue

## Свойства таймера

- `immediate`: Если установить это свойство в `false`, таймер не будет запускаться сразу после рендера. Таймер, который не запущен, не отображается. Его необходимо запустить вручную с помощью методов `resume()` или `restart()`. По умолчанию — `true`.
- `showOnPause`: Если установить это свойство в `false`, оповещение не будет отображаться при приостановке таймера. По умолчанию — `true`.

<ComponentReference :data="data" />

<script setup lang="ts">
import {data} from '../../data/components/alert.data'
</script>
