# Чекбокс формы

<PageHeader>

Для кроссбраузерной совместимости `BFormCheckboxGroup` и `BFormCheckbox` используют пользовательский чекбокс Bootstrap вместо стандартного чекбокса браузера. Он построен на семантической и доступной разметке, поэтому является отличной заменой стандартному чекбоксу.

</PageHeader>

## Одиночный чекбокс

<<< DEMO ./demo/CheckboxExample1.vue

## Несколько чекбоксов (множественный выбор)

<<< DEMO ./demo/CheckboxExample2.vue

## Свойство options

<!--@include: ./_options.md{5,}-->

<<< DEMO ./demo/CheckboxCustomFields.vue

## Значения чекбокса и `v-model`

По умолчанию значение `BFormCheckbox` будет `true` при отмеченном состоянии и `false` при снятом. Вы можете изменить значения для отмеченного и неотмеченного состояния, указав свойства `value` и `unchecked-value` соответственно.

Если у вас несколько чекбоксов, связанных с одной переменной состояния, вы должны передать массив (`[ ]`) в v-model.

Обратите внимание: если `v-model` связан с несколькими чекбоксами (т.е. массив), `unchecked-value` **не используется**. В массиве v-model будут только значения отмеченных чекбоксов. Для каждого чекбокса указывайте уникальный пропс `value` (значение по умолчанию `true` не подойдёт для массива).

Чтобы заранее отметить чекбоксы, установите v-model в массив значений, которые должны быть выбраны.

Если вы размещаете отдельные компоненты `BFormCheckbox` внутри `BFormCheckboxGroup`, большинство пропсов и v-model наследуются от `BFormCheckboxGroup`.

::: info NOTE
Пропс `unchecked-value` не влияет на атрибут `value` нативного `<input>`, так как браузеры не включают неотмеченные чекбоксы в отправку формы. Чтобы гарантировать отправку одного из двух значений (например, `'yes'` или `'no'`), используйте радиокнопки. Это то же ограничение, что и [у Vue с нативными чекбоксами](https://vuejs.org/guide/essentials/forms.html#checkbox-1).
:::

<<< DEMO ./demo/CheckboxModel.vue

### Несколько чекбоксов и доступность

При связывании нескольких чекбоксов вместе обязательно укажите одинаковый пропс `name` для всех `BFormCheckbox` в группе. Это даст понять вспомогательным технологиям, что чекбоксы связаны, и включит нативную навигацию с клавиатуры.

При использовании нескольких чекбоксов рекомендуется помещать их в компонент [`BFormGroup`](/docs/components/form-group), чтобы связать метку с группой чекбоксов. См. примеры выше.

## Inline и вертикальные чекбоксы

`BFormCheckboxGroup` по умолчанию отображает чекбоксы в одну строку (inline), а `BFormCheckbox` — блочно (вертикально).

Установите пропс `stacked` на `BFormCheckboxGroup`, чтобы расположить элементы друг под другом, или, если используете отдельные чекбоксы вне группы, установите пропс `inline` на `BFormCheckbox`.

<<< DEMO ./demo/CheckboxInline.vue

## Размеры

Используйте пропс `size` для управления размером чекбокса. По умолчанию — средний размер. Поддерживаются значения `sm` (маленький) и `lg` (большой).

<<< DEMO ./demo/CheckboxSize.vue#template{vue-html}

## Reverse

Используйте пропс `reverse`, чтобы разместить чекбоксы и переключатели с другой стороны от метки.

<<< DEMO ./demo/CheckboxReverse.vue#template{vue-html}

## Без меток

Чтобы убрать метки, как описано в [документации bootstrap](https://getbootstrap.su/docs/5.3/forms/checks-radios/#without-labels), просто оставьте слот по умолчанию пустым. Не забудьте всё равно предоставить доступное имя для вспомогательных технологий (например, через aria-label).

<<< DEMO ./demo/CheckboxNoLabel.vue#template{vue-html}

## Чекбоксы в виде кнопок

Можно отобразить чекбоксы в виде кнопок — как по отдельности, так и в группе.

У чекбоксов в стиле кнопок класс `.active` автоматически применяется к метке при отмеченном состоянии.

### Одиночный чекбокс-кнопка

Одиночный чекбокс можно отобразить как кнопку, установив пропс `button` в `true`.

Измените вариант кнопки с помощью пропса `button-variant` (см. [`BButton`](/docs/components/button) для поддерживаемых вариантов). По умолчанию — `secondary`.

<<< DEMO ./demo/CheckboxButton.vue

### Групповые чекбоксы-кнопки

Группу чекбоксов можно отобразить как button-group, установив пропс `buttons` на `BFormCheckboxGroup`. Вариант кнопки задаётся через пропс `button-variant` (по умолчанию — `secondary`).

<<< DEMO ./demo/CheckboxButtonGroup.vue

## Чекбоксы в виде переключателей (switch)

Стилизация под переключатель поддерживается в компонентах `BFormCheckbox` и `BFormCheckboxGroup`.

::: info NOTE
Если чекбокс в [режиме кнопки](#button-style-checkboxes), режим переключателя не применяется.
:::

### Одиночный чекбокс-переключатель

Одиночный чекбокс можно отобразить как переключатель, установив пропс `switch` в `true`.

<<< DEMO ./demo/CheckboxSwitch.vue

### Групповые чекбоксы-переключатели

Группу чекбоксов можно отобразить как переключатели, установив пропс `switches` на `BFormCheckboxGroup`.

<<< DEMO ./demo/CheckboxSwitchGroup.vue

### Размеры переключателей

Используйте пропс `size` для управления размером переключателя. По умолчанию — средний размер. Поддерживаются значения `sm` (маленький) и `lg` (большой).

<<< DEMO ./demo/CheckboxSwitchSize.vue#template{vue-html}

Размеры можно задавать для отдельных компонентов `BFormCheckbox` или наследовать от группы.

::: info NOTE
Bootstrap v5.x не поддерживает размеры для пользовательских переключателей, но bootstrap-vue-next включает SCSS/CSS для поддержки размеров.
:::

## Обычные чекбоксы (plain)

Можно отобразить нативный чекбокс браузера, установив пропс `plain` на `BFormCheckboxGroup` или `BFormCheckbox`.

<<< DEMO ./demo/CheckboxPlain.vue

::: info NOTE
Пропс `plain` не работает, если установлен `button` или `buttons`.
:::

## Контекстные состояния

Bootstrap поддерживает стили валидации для валидных и невалидных состояний большинства элементов формы.

Обычно рекомендуется использовать определённое состояние для конкретных типов обратной связи:

- `false` (невалидное состояние) — для обязательных или блокирующих полей
- `true` (валидное состояние) — для поощрения пользователя при пошаговой валидации
- `null` — не отображать состояние валидации

Чтобы применить иконку состояния к `BFormCheckbox`, установите пропс `state` в `false` (невалидно), `true` (валидно) или `null` (нет состояния).

::: info NOTE
Контекстные состояния **не поддерживаются** в режиме кнопки.
:::

### Пример состояния и валидации

<<< DEMO ./demo/CheckboxValidation.vue

### Обязательное поле

Если вы используете отдельные компоненты `BFormCheckbox` (не в группе), и хотите, чтобы чекбокс был обязательным, **обязательно** укажите `name` для каждого чекбокса, чтобы работало ограничение required. Все чекбоксы, связанные с одним v-model, **должны** иметь одинаковое имя.

Имя требуется, чтобы вспомогательные технологии (экранные читалки, пользователи клавиатуры) понимали, какие чекбоксы относятся к одной переменной формы (имя также включает нативную навигацию с клавиатуры), поэтому required работает только если задан name. `BFormCheckboxGroup` автоматически сгенерирует уникальное имя, если оно не указано.

## Автофокус

Если пропс `autofocus` установлен на `BFormCheckbox`, инпут будет автоматически в фокусе при монтировании или повторной активации внутри компонента Vue `KeepAlive`. Обратите внимание: этот пропс **не** устанавливает атрибут `autofocus` на инпут и не отслеживает появление инпута.

## Поддержка неопределённого состояния (indeterminate, три состояния)

Обычно чекбокс может быть только в двух состояниях: отмечен или не отмечен. Они могут иметь любые значения, но либо отправляют значение (отмечен), либо не отправляют (не отмечен) при отправке формы (хотя bootstrap-vue-next позволяет задать значение для неотмеченного состояния у одиночного чекбокса).

Визуально чекбокс может быть в трёх состояниях: _отмечен_, _не отмечен_ или **_неопределён_** (indeterminate).

Состояние _indeterminate_ — **только визуальное**. Чекбокс всё равно либо отмечен, либо нет как значение. Это визуальное состояние маскирует реальное значение чекбокса, поэтому используйте его осознанно!

`BFormCheckbox` поддерживает установку визуального состояния indeterminate через дополнительную модель `indeterminate` (по умолчанию `undefined`). Клик по чекбоксу сбрасывает состояние indeterminate и эмитит событие `update:indeterminate=false`. Чтобы вернуть состояние, установите `v-model:indeterminate` в `true`.

<<< DEMO ./demo/CheckboxTriState.vue

**Пример использования indeterminate:**

<<< DEMO ./demo/CheckboxIndeterminate.vue

<ComponentReference :data="data" />

<script setup lang="ts">
import {data} from '../../data/components/formCheckbox.data'
</script>
