# Сворачивание (Collapse)

<PageHeader>

Легко переключайте видимость практически любого контента на странице в вертикально сворачиваемом контейнере. Поддерживается создание аккордеонов. Видимость можно легко переключать с помощью нашей [директивы `v-b-toggle`](/docs/directives/BToggle) или через [`v-model`](#v-model-support).

</PageHeader>

<<< DEMO ./demo/CollapseOverview.vue#template{vue-html}

## Использование

Другие элементы могут легко переключать компоненты `BCollapse` с помощью [директивы `v-b-toggle`](/docs/directives/toggle).

<<< DEMO ./demo/CollapseUsage.vue#template{vue-html}

## Начальная видимость (открыт при старте)

Чтобы `BCollapse` был видимым изначально, установите пропс `v-model`:

<<< DEMO ./demo/CollapseInitial.vue#template{vue-html}

## Поддержка `v-model`

Состояние свёрнутости (видимости) компонента также можно задать через `v-model`, который внутри связывается с пропсом `visible`.

Обратите внимание: при использовании `v-model` для управления `BCollapse` атрибуты `aria-*` и класс `collapsed` не добавляются автоматически к кнопке-триггеру (в отличие от случая с директивой `v-b-toggle`). В этом примере **необходимо самостоятельно управлять атрибутами** для корректной поддержки доступности.

По умолчанию, если сворачивание изначально видно, анимация при монтировании не проигрывается. Чтобы включить анимацию раскрытия при монтировании, установите пропс `initial-animation` на `<BCollapse>` и оставьте пропс `visible` равным false.

<<< DEMO ./demo/CollapseModel.vue

## Переключение нескольких элементов

Можно сворачивать несколько компонентов `BCollapse` одной директивой `v-b-toggle`, указав несколько целевых ID через _модификаторы_.

Также можно передать несколько целевых ID через значение директивы в BootstrapVueNext.

<<< DEMO ./demo/CollapseMultiple.vue#template{vue-html}

## Слоты

Слоты `header` и `footer` можно использовать для создания пользовательских переключателей для вашего сворачиваемого контента. Слот по умолчанию используется для контента, который будет скрываться или показываться.

Использование директивы `v-b-toggle` для переключения `BCollapse` по-прежнему работает, но класс `collapsed` больше не будет применяться к элементу с этой директивой.

Для слотов `header`, `footer` и `default` доступны следующие свойства:

| Свойство  | Тип      | Описание                    |
| --------- | -------- | --------------------------- |
| `visible` | Boolean  | Состояние видимости         |
| `toggle`  | Function | Вызов переключает видимость |
| `show`    | Function | Вызов открывает             |
| `hide`    | Function | Вызов закрывает             |
| `id`      | String   | ID сворачиваемого элемента  |

`BCollapse` также [передаёт](https://vuejs.org/guide/components/provide-inject.html) эти переменные своим потомкам, а также значение пропса `isNav`.

<<< DEMO ./demo/CollapseContent.vue#template{vue-html}

## Экспортируемые функции

`BCollapse` предоставляет несколько функций и свойств для управления и проверки состояния компонента. Доступ к ним осуществляется через [template ref](https://vuejs.org/guide/essentials/template-refs.html#template-refs):

- hide: Скрывает и вызывает событие `hide`
- show: Показывает и вызывает событие `show`
- toggle: Переключает и вызывает событие `hide` или `show` в зависимости от состояния
- isNav: Значение пропса `isNav` у компонента
- visible: Состояние видимости

<<< DEMO ./demo/CollapseExpose.vue

## Доступность

Директива `v-b-toggle` автоматически добавляет ARIA-атрибуты `aria-controls` и `aria-expanded` к компоненту, на котором она используется (а также класс `collapsed`, если элемент не раскрыт). `aria-expanded` отражает состояние целевого компонента `BCollapse`, а `aria-controls` содержит ID целевого компонента(ов).

Если вы используете `v-model` для управления видимостью вместо директивы `v-b-toggle`, вам потребуется самостоятельно добавить на элемент-триггер атрибуты `aria-controls` и другие необходимые атрибуты и классы.

Хотя директиву `v-b-toggle` можно размещать практически на любом HTML-элементе или компоненте Vue, рекомендуется использовать кнопку или ссылку (или аналогичный компонент) в качестве переключателя; иначе ваши элементы могут быть недоступны для пользователей клавиатуры или экранных читалок. Если вы размещаете её не на кнопке или ссылке, добавьте атрибуты `tabindex="0"` и `role="button"`, чтобы пользователи вспомогательных технологий могли взаимодействовать с вашим элементом.

<ComponentReference :data="data" />

<script setup lang="ts">
import {data} from '../../data/components/collapse.data'
</script>
