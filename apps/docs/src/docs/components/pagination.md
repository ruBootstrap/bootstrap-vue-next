# Пагинация

<PageHeader>

Быстрые кнопки для первой, предыдущей, следующей, последней страницы и кнопки для перехода к странице для управления пагинацией другого компонента
(например, `BTable` или списки).

</PageHeader>

## Обзор

`<BPagination>` — это пользовательский компонент ввода, который предоставляет поле ввода для текущей страницы. Значение должно быть связано через `v-model` в вашем приложении. Номера страниц индексируются с 1. Количество страниц вычисляется из предоставленных пропсов `total-rows` и `per-page`.

**Пример использования с `<BTable>`:**

<<< DEMO ./demo/PaginationOverview.vue

## Настройка внешнего вида

`BPagination` поддерживает несколько пропсов/слотов, которые позволяют настроить внешний вид. Все
`*-text` пропсы являются текстовыми и удаляют HTML, но вы можете использовать их слотовые
контрапарты для этого.

### Ограничение количества отображаемых кнопок

Чтобы ограничить количество кнопок страницы (включая многоточие, но исключая первую, предыдущую, следующую и последнюю кнопки), используйте пропс `limit`, чтобы указать желаемое количество кнопок страницы (включая многоточие, если оно показано). По умолчанию `limit` равен `5`. Минимально поддерживаемое значение равно `3`. Когда `limit` установлен в `3`, многоточие не будет показываться на практических целях.

Кнопки `first` и `last` могут быть опционально скрыты с помощью пропса `hide-goto-end-buttons`.

Показ многоточия можно опционально отключить с помощью пропса `hide-ellipsis`.

#### Поддержка маленьких экранов

На маленьких экранах (например, мобильных) некоторые кнопки `BPagination` будут скрыты, чтобы минимизировать
потенциальное размещение интерфейса пагинации на несколько строк:

- Многоточие будет скрыто на экранах `xs` и меньше
- Кнопки номеров страниц будут ограничены максимумом 3 видимых на экранах `xs` и меньше

Это гарантирует, что не более 3 кнопок номеров страниц видны, вместе с кнопками перехода к _первой_,
_предыдущей_, _следующей_ и _последней_ кнопкам.

### Содержимое кнопок

Для полной списка всех доступных слотов см. раздел [Слоты](#comp-reference-bpagination-slots) ниже.

<<< DEMO ./demo/PaginationButtonContent.vue

Слот `page` всегда является скоупом, в то время как слоты `first-text`, `prev-text`, `next-text` и
`last-text` являются опциональными скоупами. Слот `ellipsis-text` не является скоупом.

**Скоуповые свойства, доступные для слота `page`:**

| Свойство   | Тип     | Описание                                                    |
| ---------- | ------- | ----------------------------------------------------------- |
| `page`     | Number  | Номер страницы (от `1` до `numberOfPages`)                  |
| `index`    | Number  | Номер страницы (индексируется от `0` до `numberOfPages -1`) |
| `active`   | Boolean | Если страница является активной страницей                   |
| `disabled` | Boolean | Если кнопка страницы отключена                              |
| `content`  | String  | Номер страницы в виде строки                                |

**Скоуповые свойства, доступные для слотов `first-text`, `prev-text`, `next-text` и
`last-text`:**

| Свойство   | Тип     | Описание                                                    |
| ---------- | ------- | ----------------------------------------------------------- |
| `page`     | Number  | Номер страницы (от `1` до `numberOfPages`)                  |
| `index`    | Number  | Номер страницы (индексируется от `0` до `numberOfPages -1`) |
| `disabled` | Boolean | Если кнопка страницы отключена                              |

### Тип кнопки перехода к первой/последней странице

Если вы предпочитаете иметь кнопки с номером первой и последней страницы для перехода к соответствующей странице,
используйте пропсы `first-number` и `last-number`.

<<< DEMO ./demo/PaginationFirstLast.vue

### Размер кнопки

Опционально измените размер кнопки по умолчанию, установив пропс `size` в `'sm'` для
меньших кнопок или `'lg'` для больших кнопок.

<<< DEMO ./demo/PaginationButtonSize.vue

### Стиль таблетки

Легко переключитесь на стиль таблетки, установив пропс `pills`.

<<< DEMO ./demo/PaginationPillStyle.vue

**Примечание:** Стилизация таблетки требует пользовательских CSS/SCSS bootstrap-vue-next.

### Выравнивание

По умолчанию компонент пагинации выровнен влево. Измените выравнивание на `center`, `end`
или `fill`, установив пропс `align` в соответствующее значение.

<<< DEMO ./demo/PaginationAlignment.vue

## Предотвращение выбора страницы

Вы можете слушать событие `page-click`, которое предоставляет возможность предотвратить выбор страницы. Событие выпускается с двумя аргументами:

- `BvEvent`: Объект `BvEvent`. Вызовите `BvEvent.preventDefault()` для отмены выбора страницы
- `page`: Номер страницы для выбора (начиная с `1`)

Для обеспечения доступности при использовании события `page-click` для предотвращения выбора страницы,
рекомендуется предоставить какое-либо средство уведомления пользователю о том, почему страница не может быть выбрана. Рекомендуется использовать атрибут `disabled` на компоненте `BPagination` вместо использования события `page-click` (так как `disabled` более интуитивно для пользователей с экранами чтения).

## Доступность

Компонент `BPagination` предоставляет множество функций для поддержки пользователей с ограниченными возможностями, таких как
`aria-` атрибуты и навигация по клавиатуре.

### `aria-controls`

Когда пагинация управляет другим компонентом на странице (например, `BTable`), установите
`aria-controls` пропс в `id` элемента, который она контролирует. Это поможет пользователям без зрения
знать, какой компонент обновляется/контролируется.

### ARIA метки

`BPagination` предоставляет различные `label-*` пропсы, которые используются для установки `aria-label`
атрибутов на различные элементы внутри компонента, а также общий `aria-label` пропс
на внешнем контейнере, который поможет пользователям вспомогательных технологий.

| Пропс              | Содержимое по умолчанию `aria-label`                       |
| ------------------ | ---------------------------------------------------------- |
| `label-first-page` | "Перейти к первой странице"                                |
| `label-prev-page`  | "Перейти к предыдущей странице"                            |
| `label-next-page`  | "Перейти к следующей странице"                             |
| `label-last-page`  | "Перейти к последней странице"                             |
| `label-page`       | "Перейти к странице", к которой добавляется номер страницы |
| `aria-label`       | "Пагинация", применяется к внешнему контейнеру пагинации   |

Пропс `label-page` будет опционально принимать функцию для генерации `aria-label`. Функция передается один аргумент, который является номером страницы (индексируется от 1 до количества страниц).

Вы можете удалить любую метку, установив пропс в пустую строку (`''`), хотя это не рекомендуется, если содержимое текстового кнопки достаточно для передачи его назначения.

### Поддержка навигации по клавиатуре

`<BPagination>` поддерживает навигацию по клавиатуре из коробки и следует
[WAI-ARIA roving tabindex](https://www.w3.org/TR/wai-aria-practices-1.2/#kbd_roving_tabindex)
паттерну.

- Табуляция в компонент пагинации приведет к фокусу на активной кнопке страницы
- <kbd>Left</kbd> (или <kbd>Up</kbd>) и <kbd>Right</kbd> (или <kbd>Down</kbd>) клавиши со стрелками будут фокусироваться
  на предыдущих и следующих кнопках в списке страниц
- <kbd>Enter</kbd> или <kbd>Space</kbd> клавиши выбирают (кликают) текущую фокусируемую кнопку страницы
- Нажатие <kbd>Tab</kbd> переместится к следующему элементу управления или ссылке на странице, в то время как нажатие
  <kbd>Shift</kbd>+<kbd>Tab</kbd> переместится к предыдущему элементу управления или ссылке на странице.

<ComponentReference :data="data" />

<script setup lang="ts">
import {data} from '../../data/components/pagination.data'
</script>
